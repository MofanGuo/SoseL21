package SoseL21.interpreter.plugin;

/*Generated by MPS */

import com.mbeddr.mpsutil.interpreter.rt.InterpreterEvaluationHelper;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;

public class EvalHelper {
  private static InterpreterEvaluationHelper helper = new InterpreterEvaluationHelper("arithmetic");
  public static String eval(SNode n) {
    try {
      ParameterValuesSingleton.getIntegerValues().clear();
      ParameterValuesSingleton.getBooleanValues().clear();
      helper.evaluate(SNodeOperations.getNodeAncestor(n, CONCEPTS.SoSeWorksheet$t7, false, false));
      Object result = helper.evaluate(n);
      if (result != null) {
        return String.valueOf(result);
      } else {
        return "Null result";
      }
    } catch (Exception e) {
      return "Error";
    }
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept SoSeWorksheet$t7 = MetaAdapterFactory.getConcept(0x553bdaad1cb3493bL, 0xaccb16ef149d741aL, 0xbfd127414bf7d02L, "SoseL21.structure.SoSeWorksheet");
  }
}
